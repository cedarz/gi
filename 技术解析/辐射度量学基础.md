# è¾å°„åº¦é‡å­¦(Radiometry)åŸºç¡€ - æ·±åº¦è§£æ

## ä¸ºä»€ä¹ˆè¦å­¦ä¹ è¾å°„åº¦é‡å­¦ï¼Ÿ

è¾å°„åº¦é‡å­¦æ˜¯ç†è§£å…¨å±€å…‰ç…§çš„**ç‰©ç†åŸºç¡€**ï¼Œå®ƒç”¨ç²¾ç¡®çš„æ•°å­¦è¯­è¨€æè¿°å…‰çš„ä¼ æ’­ã€æµ‹é‡å’Œèƒ½é‡è½¬æ¢ã€‚æ²¡æœ‰è¾å°„åº¦é‡å­¦ï¼Œæ¸²æŸ“æ–¹ç¨‹å°±æ˜¯ä¸€å †ç¬¦å·ï¼›æœ‰äº†è¾å°„åº¦é‡å­¦ï¼Œä½ å°±èƒ½ç†è§£æ¯ä¸ªåƒç´ èƒŒåçš„ç‰©ç†è¿‡ç¨‹ã€‚

**å­¦ä¹ ç›®æ ‡**:
- ç†è§£å…‰ä½œä¸ºç”µç£è¾å°„çš„ç‰©ç†é‡
- æŒæ¡æè¿°å…‰ä¼ æ’­çš„å››ä¸ªæ ¸å¿ƒè¾å°„é‡
- å»ºç«‹ä»ç‰©ç†ä¸–ç•Œåˆ°æ¸²æŸ“ç®—æ³•çš„æ¡¥æ¢
- ä¸ºå­¦ä¹ BRDFå’Œæ¸²æŸ“æ–¹ç¨‹æ‰“ä¸‹åšå®åŸºç¡€

---

## 1. ç«‹ä½“è§’ (Solid Angle)

### 1.1 ä»å¹³é¢è§’åˆ°ç«‹ä½“è§’

åœ¨ç†è§£è¾å°„é‡ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆè¦ç†è§£**ç«‹ä½“è§’**è¿™ä¸ªæ¦‚å¿µã€‚

#### å¹³é¢è§’å›é¡¾
```
å¹³é¢è§’ Î¸ = å¼§é•¿ / åŠå¾„
        = s / r
å•ä½: å¼§åº¦(radian)ï¼Œåœ†å‘¨å¯¹åº” 2Ï€ å¼§åº¦
```

#### ç«‹ä½“è§’å®šä¹‰
ç«‹ä½“è§’æ˜¯å¹³é¢è§’åœ¨ä¸‰ç»´ç©ºé—´çš„æ¨å¹¿ï¼š

```
ç«‹ä½“è§’ Î© = é¢ç§¯ / åŠå¾„Â²
         = A / rÂ²
å•ä½: çƒé¢åº¦(steradian, sr)
```

**ç‰©ç†æ„ä¹‰**: ç«‹ä½“è§’æè¿°ä»æŸç‚¹çœ‹å»ä¸€ä¸ªè¡¨é¢"å¼ å¼€çš„å¤§å°"ã€‚

**ç«‹ä½“è§’å¯è§†åŒ–**:
```
        è§‚å¯Ÿç‚¹O
          â—
         /|\
        / | \
       /  |  \
      /   |   \
     /    |    \
    /_____|_____\
    \_____A_____/  â† çƒé¢ä¸Šçš„é¢ç§¯A
    
    ç«‹ä½“è§’ Î© = A / rÂ²
    
    ç‰¹æ®Šæƒ…å†µ:
    - æ•´ä¸ªçƒé¢: Î© = 4Ï€rÂ² / rÂ² = 4Ï€ sr
    - åŠçƒé¢:   Î© = 2Ï€rÂ² / rÂ² = 2Ï€ sr
    - å°å¹³é¢:   Î© â‰ˆ dA cos Î¸ / rÂ²  (æŠ•å½±é¢ç§¯)
```

**æ›´å¤šå›¾è§£**:

<details>
<summary>ç‚¹å‡»æŸ¥çœ‹ï¼šç«‹ä½“è§’ä¸å¹³é¢è§’å¯¹æ¯”å›¾</summary>

```
å¹³é¢è§’ (2D)                ç«‹ä½“è§’ (3D)
    
    r                         r
   â—â”€â”€â”€â”€â†’                    â—
  /â”‚                        /|\
 / â”‚Î¸                      / | \
/  â”‚                      /  |  \
â”€â”€â”€â”˜                     /___|___\
 s                      çƒé¢é¢ç§¯ A

Î¸ = s/r (å¼§åº¦)          Î© = A/rÂ² (çƒé¢åº¦)
åœ†å‘¨ = 2Ï€ rad           çƒé¢ = 4Ï€ sr
```
</details>

```
ç¤ºä¾‹:
  åŠçƒé¢: Î© = 2Ï€ sr
  å…¨çƒé¢: Î© = 4Ï€ sr
  ä¸€ä¸ªå°è¡¨é¢: Î© â‰ˆ dAâŠ¥ / rÂ²
```

**å¯è§†åŒ–èµ„æº**:
- ğŸ“Š [Interactive Solid Angle Visualization](https://www.geogebra.org/m/HZ5NxGVu)
- ğŸ“º [Khan Academy: Solid Angles](https://www.khanacademy.org/science/physics)
- ğŸ’¡ å»ºè®®ï¼šç”¨æ‰‹ç”µç­’ç…§å¢™ï¼Œè·ç¦»è¶Šè¿‘"å¼ å¼€"è¶Šå¤§ï¼ˆç«‹ä½“è§’è¶Šå¤§ï¼‰

### 1.2 å¾®åˆ†ç«‹ä½“è§’

åœ¨æ¸²æŸ“ä¸­ï¼Œæˆ‘ä»¬å¸¸ç”¨**çƒé¢åæ ‡**è¡¨ç¤ºæ–¹å‘ï¼š

```
æ–¹å‘å‘é‡ Ï‰ = (Î¸, Ï†)
  Î¸: å¤©é¡¶è§’ (zenith angle)ï¼Œ[0, Ï€]
  Ï†: æ–¹ä½è§’ (azimuth angle)ï¼Œ[0, 2Ï€]
```

å¾®åˆ†ç«‹ä½“è§’è¡¨è¾¾å¼ï¼š
```
dÏ‰ = sin Î¸ dÎ¸ dÏ†
```

**å¯è§†åŒ–**:
```
        Z (æ³•çº¿æ–¹å‘)
        â†‘
        |   Ï‰ (å…‰çº¿æ–¹å‘)
        |  /
        | /Î¸
        |/______ Y
       O
      /
     / Ï†
    X

dÏ‰ è¡¨ç¤ºçƒé¢ä¸Šä¸€å°å—åŒºåŸŸå¯¹åº”çš„ç«‹ä½“è§’
```

### 1.3 åŠçƒç§¯åˆ†

åœ¨ç€è‰²è®¡ç®—ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦å¯¹åŠçƒé¢ç§¯åˆ†ï¼š

```
åŠçƒç§¯åˆ†: âˆ«_Î© f(Ï‰) dÏ‰

å…¶ä¸­ Î© è¡¨ç¤ºä»¥æ³•çº¿ä¸ºè½´çš„åŠçƒé¢
```

å±•å¼€ä¸ºçƒé¢åæ ‡ï¼š
```
âˆ«_Î© f(Ï‰) dÏ‰ = âˆ«â‚€Â²áµ–â± âˆ«â‚€áµ–â±/Â² f(Î¸, Ï†) sin Î¸ dÎ¸ dÏ†
```

**å¸¸ç”¨å…¬å¼**:
```
1. åŠçƒé¢ç«‹ä½“è§’: âˆ«_Î© dÏ‰ = 2Ï€

2. ä½™å¼¦åŠ æƒåŠçƒç§¯åˆ†: 
   âˆ«_Î© cos Î¸ dÏ‰ = Ï€

3. æŠ•å½±ç«‹ä½“è§’:
   dÏ‰âŠ¥ = cos Î¸ dÏ‰
```

---

## 2. å››ä¸ªæ ¸å¿ƒè¾å°„é‡

è¾å°„åº¦é‡å­¦ç”¨å››ä¸ªç›¸äº’å…³è”çš„ç‰©ç†é‡æè¿°å…‰çš„ä¼ æ’­ï¼š

```
         èƒ½é‡ (Energy, Q)
            â†“ å¯¹æ—¶é—´æ±‚å¯¼
       é€šé‡ (Flux, Î¦)
          â†™        â†˜
  å¯¹é¢ç§¯æ±‚å¯¼      å¯¹ç«‹ä½“è§’æ±‚å¯¼
        â†“              â†“
   è¾ç…§åº¦           è¾å°„å¼ºåº¦
  (Irradiance, E)  (Intensity, I)
        â†“              â†“
    å¯¹ç«‹ä½“è§’æ±‚å¯¼    å¯¹é¢ç§¯æ±‚å¯¼
        â†˜            â†™
       è¾å°„äº®åº¦ (Radiance, L)
```

**è¾å°„é‡å…³ç³»è¯¦è§£**:
```
èƒ½é‡ Q (ç„¦è€³)
    â†“ å•ä½æ—¶é—´
é€šé‡ Î¦ (ç“¦ç‰¹) = dQ/dt
    â†™        â†˜
å•ä½é¢ç§¯      å•ä½ç«‹ä½“è§’
    â†“              â†“
è¾ç…§åº¦ E         è¾å°„å¼ºåº¦ I
(W/mÂ²)          (W/sr)
    â†“              â†“
å¯¹ç«‹ä½“è§’å¾®åˆ†    å¯¹é¢ç§¯å¾®åˆ†
    â†˜            â†™
    è¾å°„äº®åº¦ L (W/(mÂ²Â·sr))
    
æ ¸å¿ƒï¼šL æ˜¯æœ€åŸºç¡€çš„é‡ï¼Œå…¶ä»–éƒ½å¯ä»¥ä»Læ¨å¯¼ï¼
```

**å¾®åˆ†å…³ç³»**:
```
Î¦ = dQ/dt              é€šé‡ = èƒ½é‡çš„æ—¶é—´å¯¼æ•°
I = dÎ¦/dÏ‰              å¼ºåº¦ = é€šé‡çš„ç«‹ä½“è§’å¯¼æ•°
E = dÎ¦/dA              è¾ç…§åº¦ = é€šé‡çš„é¢ç§¯å¯¼æ•°
L = dÂ²Î¦/(dAÂ·cosÎ¸Â·dÏ‰)  è¾å°„äº®åº¦ = é€šé‡çš„é¢ç§¯å’Œç«‹ä½“è§’äºŒé˜¶å¯¼æ•°
```

**å››ä¸ªè¾å°„é‡çš„ç›´è§‚ç†è§£**:

<details>
<summary>ç‚¹å‡»æŸ¥çœ‹ï¼šç”¨æ—¥å¸¸ä¾‹å­ç†è§£å››ä¸ªè¾å°„é‡</summary>

```
åœºæ™¯ï¼šä¸€ä¸ªç¯æ³¡ç…§äº®æˆ¿é—´

1. è¾å°„èƒ½é‡ Q (ç„¦è€³)
   - ç¯æ³¡ä¸€æ•´å¤©æ¶ˆè€—çš„ç”µèƒ½
   - ä¾‹å¦‚: 60Wç¯æ³¡äº®8å°æ—¶ = 60W Ã— 8h Ã— 3600s = 1.73 MJ

2. è¾å°„é€šé‡ Î¦ (ç“¦ç‰¹)
   - ç¯æ³¡æ­¤åˆ»çš„åŠŸç‡
   - ä¾‹å¦‚: 60Wç¯æ³¡å°±æ˜¯60Wé€šé‡

3. è¾å°„å¼ºåº¦ I (W/sr)
   - ç¯æ³¡åœ¨æŸä¸ªæ–¹å‘ä¸Šçš„"äº®åº¦"
   - ä¾‹å¦‚: 60Wç¯æ³¡å‡åŒ€å‘å…‰ â†’ I = 60/(4Ï€) â‰ˆ 4.77 W/sr
   - å¦‚æœæ˜¯èšå…‰ç¯ï¼ŒæŸä¸ªæ–¹å‘ä¸ŠIä¼šæ›´å¤§

4. è¾ç…§åº¦ E (W/mÂ²)
   - æ¡Œé¢ä¸Šæ¥æ”¶çš„å…‰å¼º
   - ä¾‹å¦‚: 1ç±³è·ç¦»ï¼ŒE = I/rÂ² = 4.77/1Â² â‰ˆ 4.77 W/mÂ²
   - è·ç¦»2ç±³ï¼ŒE = 4.77/4 â‰ˆ 1.19 W/mÂ²  (è·ç¦»å¹³æ–¹è¡°å‡)

5. è¾å°„äº®åº¦ L (W/(mÂ²Â·sr))
   - ç¯ä¸è¡¨é¢çš„"å‘å…‰å¯†åº¦"
   - ä¸éšè·ç¦»å˜åŒ–ï¼(è¿™å°±æ˜¯ä¸ºä»€ä¹ˆè¿œå¤„çš„æ˜Ÿæ˜Ÿä¾ç„¶æ˜äº®)
   - æ‘„åƒæœº/çœ¼ç›æµ‹é‡çš„å°±æ˜¯L
```
</details>

**æ¨èå¯è§†åŒ–å·¥å…·**:
- ğŸ¨ [Scratchapixel - Light and Shading](https://www.scratchapixel.com/lessons/3d-basic-rendering/introduction-to-shading)
- ğŸ“Š [PhET Interactive Simulations - Light](https://phet.colorado.edu/en/simulations/filter?subjects=light)
- ğŸ“– **æ¨èé˜…è¯»**: PBRT Book Chapter 5 æœ‰è¯¦ç»†çš„å…³ç³»å›¾è§£
- ğŸ¥ [GAMES101 Lecture 14](https://www.bilibili.com/video/BV1X7411F744?p=14) - é—«ä»¤çªè€å¸ˆä¸­æ–‡è®²è§£

### 2.1 è¾å°„èƒ½é‡ (Radiant Energy)

**å®šä¹‰**: å…‰æºå¸¦çš„èƒ½é‡
- ç¬¦å·: \( Q \)
- å•ä½: ç„¦è€³ (Joule, J)

**ç‰©ç†æ„ä¹‰**: 
- å•ä¸ªå…‰å­èƒ½é‡: \( E = hÎ½ \) (hä¸ºæ™®æœ—å…‹å¸¸æ•°ï¼ŒÎ½ä¸ºé¢‘ç‡)
- æ¸²æŸ“ä¸­é€šå¸¸ä¸ç›´æ¥ä½¿ç”¨ï¼Œè€Œæ˜¯ç”¨åŠŸç‡(é€šé‡)

---

### 2.2 è¾å°„é€šé‡ (Radiant Flux / Power)

**å®šä¹‰**: å•ä½æ—¶é—´é€šè¿‡çš„è¾å°„èƒ½é‡

\[
\Phi = \frac{dQ}{dt}
\]

- ç¬¦å·: \( \Phi \)
- å•ä½: ç“¦ç‰¹ (Watt, W) = J/s

**ç‰©ç†æ„ä¹‰**: åŠŸç‡ï¼Œæè¿°å…‰æºå‘å‡ºæˆ–è¡¨é¢æ¥æ”¶çš„æ€»èƒ½é‡é€Ÿç‡

**ç¤ºä¾‹**:
```
ç‚¹å…‰æº: 
  å‘å…‰åŠŸç‡ Î¦ = 100W
  å‡åŒ€å‘å°„ï¼Œåˆ™æ¯ä¸ªç«‹ä½“è§’çš„å¼ºåº¦ I = Î¦ / (4Ï€)

å¤ªé˜³å…‰:
  æ€»åŠŸç‡çº¦ 3.8 Ã— 10Â²â¶ W
  åˆ°è¾¾åœ°çƒè¡¨é¢çº¦ 1000 W/mÂ²
```

**åœ¨æ¸²æŸ“ä¸­**:
- å…‰æºçš„"brightness"å‚æ•°å¸¸è¡¨ç¤ºé€šé‡
- Area Lightçš„æ€»åŠŸç‡ = è¾å°„äº®åº¦ Ã— é¢ç§¯ Ã— Ï€

---

### 2.3 è¾å°„å¼ºåº¦ (Radiant Intensity)

**å®šä¹‰**: å•ä½ç«‹ä½“è§’ä¸Šçš„è¾å°„é€šé‡

\[
I(\omega) = \frac{d\Phi}{d\omega}
\]

- ç¬¦å·: \( I \)
- å•ä½: W/sr (ç“¦ç‰¹æ¯çƒé¢åº¦)

**ç‰©ç†æ„ä¹‰**: æè¿°ç‚¹å…‰æºåœ¨æŸä¸ªæ–¹å‘ä¸Šçš„"äº®åº¦"

**ç‰¹ç‚¹**:
- åªé€‚ç”¨äº**ç‚¹å…‰æº** (0ç»´å…‰æº)
- ä¸è·ç¦»æ— å…³ (ç‚¹å…‰æºçš„å›ºæœ‰å±æ€§)
- æ–¹å‘ç›¸å…³ (å¯ä»¥æœ‰æ–¹å‘æ€§)

**ç¤ºä¾‹**:
```cpp
// å‡åŒ€ç‚¹å…‰æº (Omnidirectional)
float I_uniform = Power / (4.0 * PI);

// æ–¹å‘æ€§å…‰æº (Spotlight)
float I_spot(vec3 direction) {
    float cosTheta = dot(direction, lightDir);
    if (cosTheta > cosCutoff) {
        return Power * spotlight_falloff(cosTheta);
    }
    return 0.0;
}
```

**åå¹³æ–¹è¡°å‡å®šå¾‹**:
```
ä»ç‚¹å…‰æºå‡ºå‘çš„å…‰ï¼Œåœ¨è·ç¦» r å¤„çš„è¾ç…§åº¦:
E(r) = I / rÂ²

è¿™å°±æ˜¯è‘—åçš„ 1/rÂ² è¡°å‡ï¼
```

---

### 2.4 è¾ç…§åº¦ (Irradiance)

**å®šä¹‰**: å•ä½é¢ç§¯ä¸Šæ¥æ”¶çš„è¾å°„é€šé‡

\[
E(p) = \frac{d\Phi}{dA}
\]

- ç¬¦å·: \( E \)
- å•ä½: W/mÂ² (ç“¦ç‰¹æ¯å¹³æ–¹ç±³)

**ç‰©ç†æ„ä¹‰**: è¡¨é¢æŸç‚¹æ¥æ”¶åˆ°çš„"å…‰ç…§å¼ºåº¦"

**å®Œæ•´å®šä¹‰** (è€ƒè™‘å…¥å°„è§’):
\[
E(p) = \int_{\Omega} L_i(p, \omega) \cos\theta \, d\omega
\]

å…¶ä¸­ \( \cos\theta \) æ˜¯Lambertä½™å¼¦å®šå¾‹çš„ä½“ç°ã€‚

**ç¤ºä¾‹åœºæ™¯**:
```
åœ°é¢ä¸Šçš„è¾ç…§åº¦:
  ç›´å°„é˜³å…‰: E â‰ˆ 1000 W/mÂ²
  é˜´å¤©: E â‰ˆ 100-300 W/mÂ²
  å®¤å†…: E â‰ˆ 10-100 W/mÂ²
  æœˆå…‰: E â‰ˆ 1 W/mÂ²
```

**Lambertä½™å¼¦å®šå¾‹**:
```
      å…‰æº
        â†“ 
     â”â”â”â”â”â”  â† å‚ç›´è¡¨é¢ï¼ŒE = Eâ‚€
        
     â•±â•±â•±â•±â•±â•±  â† å€¾æ–œÎ¸è§’ï¼ŒE = Eâ‚€ cos Î¸
```

**ä»£ç ç¤ºä¾‹**:
```cpp
// ç‚¹å…‰æºäº§ç”Ÿçš„è¾ç…§åº¦
float pointLightIrradiance(vec3 position, vec3 normal) {
    vec3 L = lightPos - position;
    float dist = length(L);
    L = L / dist; // å½’ä¸€åŒ–
    
    float I = lightIntensity; // è¾å°„å¼ºåº¦
    float cosTheta = max(0.0, dot(normal, L));
    
    return I * cosTheta / (dist * dist); // E = IÂ·cosÎ¸ / rÂ²
}
```

---

### 2.5 è¾å°„äº®åº¦ (Radiance) â­ æ ¸å¿ƒæ¦‚å¿µ

**å®šä¹‰**: å•ä½æŠ•å½±é¢ç§¯ã€å•ä½ç«‹ä½“è§’ä¸Šçš„è¾å°„é€šé‡

\[
L(p, \omega) = \frac{d^2\Phi}{dA^\perp \, d\omega} = \frac{d^2\Phi}{dA \cos\theta \, d\omega}
\]

- ç¬¦å·: \( L \)
- å•ä½: W/(mÂ²Â·sr) (ç“¦ç‰¹æ¯å¹³æ–¹ç±³æ¯çƒé¢åº¦)

**ç‰©ç†æ„ä¹‰**: 
- æè¿°å…‰åœ¨ç©ºé—´ä¸­æŸç‚¹ã€æŸæ–¹å‘ä¸Šçš„"å¯†åº¦"
- **æ¸²æŸ“æ–¹ç¨‹çš„æ ¸å¿ƒé‡** - æˆ‘ä»¬è®¡ç®—çš„å°±æ˜¯Radianceï¼

**Radianceçš„å‡ ä½•å®šä¹‰**:
```
        dÏ‰ (ç«‹ä½“è§’)
         â†—
        /
       / Î¸
    dAâ—â”€â”€â”€â”€â†’ æ³•çº¿N
    è¡¨é¢
    
L = dÂ²Î¦ / (dA Â· cos Î¸ Â· dÏ‰)

ç»„æˆéƒ¨åˆ†:
- dA: è¡¨é¢å¾®å…ƒé¢ç§¯
- cos Î¸: æŠ•å½±å› å­ (Lambertä½™å¼¦)
- dÏ‰: ç«‹ä½“è§’å¾®å…ƒ
- dÂ²Î¦: äºŒé˜¶å¾®åˆ†é€šé‡
```

![Radiance Geometry](https://www.scratchapixel.com/images/upload/shading-intro/shad-radiometry-6.png?)
> å›¾ç‰‡æ¥æº: [Scratchapixel - Introduction to Shading](https://www.scratchapixel.com/lessons/3d-basic-rendering/introduction-to-shading/shading-lights.html)

**ä¸ºä»€ä¹ˆRadianceå¦‚æ­¤é‡è¦ï¼Ÿ**

1. **ä¸éšè·ç¦»è¡°å‡**: 
   ```
   å…‰çº¿åœ¨çœŸç©ºä¸­ä¼ æ’­ï¼ŒRadianceä¿æŒä¸å˜ï¼
   (è¿™å°±æ˜¯ä¸ºä»€ä¹ˆè¿œå¤„çš„æ˜Ÿæ˜Ÿä¾ç„¶æ˜äº®)
   ```

2. **æ‘„åƒæœºæµ‹é‡çš„æ˜¯Radiance**:
   ```
   åƒç´ å€¼ âˆ L(p, Ï‰_camera)
   ```

3. **æ¸²æŸ“æ–¹ç¨‹æ±‚è§£çš„æ˜¯Radiance**:
   ```
   L_o(p, Ï‰_o) = L_e(p, Ï‰_o) + âˆ«_Î© f_r(p, Ï‰_i, Ï‰_o) L_i(p, Ï‰_i) cosÎ¸_i dÏ‰_i
   ```

<details>
<summary>ç‚¹å‡»æŸ¥çœ‹ï¼šRadianceä¸è¡°å‡çš„ç›´è§‚ç†è§£</summary>

```
ä¸ºä»€ä¹ˆRadianceä¸éšè·ç¦»è¡°å‡ï¼Ÿ

åœºæ™¯ï¼šè§‚å¯Ÿä¸€ä¸ªå‘å…‰åœ†ç›˜

è·ç¦» râ‚:
  â”Œâ”€â”€â”€â”€â”€â”
  â”‚åœ†ç›˜ â”‚ å‘å‡ºçš„Radiance = L
  â””â”€â”€â”€â”€â”€â”˜
     â†“  â† è§‚å¯Ÿè€…çœ‹åˆ°çš„ç«‹ä½“è§’ = Î©â‚
     ğŸ‘

è·ç¦» râ‚‚ = 2Ã—râ‚:
  â”Œâ”€â”€â”€â”€â”€â”
  â”‚åœ†ç›˜ â”‚ å‘å‡ºçš„Radiance = L (ä¸å˜!)
  â””â”€â”€â”€â”€â”€â”˜
      â†“  â† è§‚å¯Ÿè€…çœ‹åˆ°çš„ç«‹ä½“è§’ = Î©â‚‚ = Î©â‚/4
      
      ğŸ‘

è§£é‡Šï¼š
- è·ç¦»ç¿»å€ï¼Œç«‹ä½“è§’å˜ä¸º1/4
- æ¥æ”¶çš„æ€»åŠŸç‡ = L Ã— Î© (ç¡®å®å˜ä¸º1/4)
- ä½†Radianceæœ¬èº«ä¸å˜ï¼

ç±»æ¯”ï¼š
å°±åƒçœ‹è¿œå¤„çš„ç¯ï¼Œè™½ç„¶"æ€»äº®åº¦"å˜æš—äº†ï¼Œ
ä½†ç¯æœ¬èº«çš„"äº®åº¦å¯†åº¦"(æ¯å•ä½é¢ç§¯æ¯å•ä½ç«‹ä½“è§’)ä¸å˜ã€‚
```
</details>

### Radianceçš„ä¸¤ä¸ªè§†è§’

**1. ä»è¡¨é¢å‡ºå‘** (Exitant Radiance):
```
L_o(p, Ï‰) = å•ä½é¢ç§¯ã€å•ä½ç«‹ä½“è§’å‘å‡ºçš„é€šé‡
```

**2. å‘è¡¨é¢å…¥å°„** (Incident Radiance):
```
L_i(p, Ï‰) = å•ä½é¢ç§¯ã€å•ä½ç«‹ä½“è§’åˆ°è¾¾çš„é€šé‡
```

**å…³ç³»å›¾**:
```
    å…‰æº                è¡¨é¢
     L_e    â”€â”€â†’    L_i  â†’  åå°„  â†’  L_o  â”€â”€â†’  æ‘„åƒæœº
  (å‘å°„äº®åº¦)   (å…¥å°„äº®åº¦)    (BRDF)  (å‡ºå°„äº®åº¦)
```

---

## 3. è¾å°„é‡ä¹‹é—´çš„å…³ç³»

### 3.1 ä»ç‚¹å…‰æºåˆ°è¡¨é¢

```
ç‚¹å…‰æº (Intensity I)
    â†“ ä¼ æ’­è·ç¦» r
å…¥å°„è¾ç…§åº¦: E = I / rÂ²
    â†“ ä»ç«‹ä½“è§’æ¨å¯¼
å…¥å°„è¾å°„äº®åº¦: L_i = I / rÂ²  (å¯¹äºå°å…‰æº)

å®é™…ä¸Š: L_i = I / (dA_light Â· cos Î¸_light)
```

### 3.2 ä»é¢å…‰æºåˆ°è¡¨é¢

```
é¢å…‰æº (Radiance L, é¢ç§¯ A)
    â†“
æ€»é€šé‡: Î¦ = L Â· A Â· Ï€  (Lambertianå‘å°„å™¨)
    â†“
æŸç‚¹æ¥æ”¶çš„è¾ç…§åº¦: E = âˆ«_A L Â· cos Î¸_i Â· cos Î¸_o / rÂ² dA_light
```

### 3.3 è¾ç…§åº¦ä¸è¾å°„äº®åº¦

å…³é”®å…¬å¼ï¼š
\[
E(p) = \int_{\Omega} L_i(p, \omega) \cos\theta \, d\omega
\]

**å‡åŒ€ç¯å¢ƒå…‰ç…§ä¸‹**:
\[
E = \int_{\Omega} L_{env} \cos\theta \, d\omega = L_{env} \cdot \pi
\]

è¿™å°±æ˜¯ä¸ºä»€ä¹ˆ **Ï€** åœ¨æ¸²æŸ“ä¸­æ— å¤„ä¸åœ¨ï¼

---

## 4. BRDF - åŒå‘åå°„åˆ†å¸ƒå‡½æ•°

### 4.1 BRDFçš„å®šä¹‰

**Bidirectional Reflectance Distribution Function**

\[
f_r(p, \omega_i, \omega_o) = \frac{dL_o(p, \omega_o)}{dE_i(p, \omega_i)} = \frac{dL_o(p, \omega_o)}{L_i(p, \omega_i) \cos\theta_i \, d\omega_i}
\]

- å•ä½: srâ»Â¹ (1/çƒé¢åº¦)

**ç‰©ç†æ„ä¹‰**: ä»æ–¹å‘ \(\omega_i\) å…¥å°„çš„å…‰ï¼Œæœ‰å¤šå°‘æ¯”ä¾‹åå°„åˆ°æ–¹å‘ \(\omega_o\)

**BRDFå‡ ä½•å…³ç³»**:
```
          æ³•çº¿ N
            â†‘
            |
            |     å‡ºå°„æ–¹å‘ Ï‰o
            |    â†—
            |  â†—  Î¸o
    â”€â”€â”€â”€â”€â”€â”€â”€â—â”€â”€â”€â”€â”€â”€â”€â”€ è¡¨é¢
          â†™ |
        â†™   |
    Î¸i â†™    |
     Ï‰i     |
  å…¥å°„æ–¹å‘  |

BRDF: f_r(Ï‰i, Ï‰o) æè¿° Ï‰i â†’ Ï‰o çš„åå°„æ¯”ä¾‹
```

**BRDFçš„3Då¯è§†åŒ–**:

<details>
<summary>ç‚¹å‡»æŸ¥çœ‹ï¼šä¸åŒæè´¨çš„BRDFå½¢çŠ¶</summary>

```
Lambertian (æ¼«åå°„)          é•œé¢åå°„              ç²—ç³™é‡‘å±
                           (Perfect Mirror)      (GGX, roughness=0.3)

  Ï‰o (æ‰€æœ‰æ–¹å‘å‡åŒ€)           Ï‰o (åªæœ‰ä¸€ä¸ªæ–¹å‘)      Ï‰o (ä¸»è¦åœ¨é•œé¢æ–¹å‘)
   â†— â†‘ â†–                        â†‘                   â†— â†‘ â†–
  â†  â—  â†’  è¡¨é¢               â—  è¡¨é¢              â† â— â†’  è¡¨é¢
   â†™ â†“ â†˜                      â†“                    â†™ â†“ â†˜
     Ï‰i                      Ï‰i                     Ï‰i

BRDFå½¢çŠ¶:                  BRDFå½¢çŠ¶:              BRDFå½¢çŠ¶:
    ___                        |                     /|\
   /   \                       |                    / | \
  |  â—  |  (åŠçƒ)             |â—|  (å°–å³°)          /  â—  \  (å‡¸èµ·)
   \___/                       |                   /       \


ç‰¹ç‚¹:                      ç‰¹ç‚¹:                  ç‰¹ç‚¹:
- f_r = Ï/Ï€ (å¸¸æ•°)         - Deltaå‡½æ•°           - æœ‰ä¸»ç“£(lobe)
- èƒ½é‡å‡åŒ€åˆ†å¸ƒ             - åªåå°„åˆ°ä¸€ä¸ªæ–¹å‘      - roughnessè¶Šå¤§è¶Šå®½
- çœ‹èµ·æ¥"å¹³"               - å®Œç¾é•œå­            - èƒ½é‡å®ˆæ’
```

**å®é™…æè´¨çš„BRDF**:
```
æè´¨         Diffuseæ¯”ä¾‹    Specularæ¯”ä¾‹    Roughness
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ç™½çº¸         95%           5%             0.8
å¡‘æ–™         60%           40%            0.3-0.5
é‡‘å±         0%            100%           0.1-0.4
é•œå­         0%            100%           0.01
çš®è‚¤         70%           30%            0.4-0.6
```
</details>

**BRDFå¯è§†åŒ–èµ„æº**:
- ğŸ¨ [Disney BRDF Explorer](https://github.com/wdas/brdf) - è¿ªå£«å°¼å¼€æºçš„BRDFæŸ¥çœ‹å™¨ â­æ¨èä¸‹è½½
- ğŸ“Š [MERL BRDF Database](https://www.merl.com/brdf/) - 100ç§çœŸå®æè´¨çš„æµ‹é‡BRDFæ•°æ®
- ğŸ¥ [BRDFå¯è§†åŒ–è§†é¢‘](https://www.youtube.com/results?search_query=BRDF+visualization) - YouTubeæœç´¢
- ğŸ“– [BRDF Exploreråœ¨çº¿æ–‡æ¡£](https://www.disneyanimation.com/technology/brdf.html)

**BRDFçš„ç‰¹æ€§**:

1. **éè´Ÿæ€§**: 
   ```
   f_r(Ï‰_i, Ï‰_o) â‰¥ 0
   ```

2. **Helmholtzäº’æ˜“æ€§**:
   ```
   f_r(Ï‰_i, Ï‰_o) = f_r(Ï‰_o, Ï‰_i)
   (äº¤æ¢å…¥å°„å’Œå‡ºå°„æ–¹å‘ï¼ŒBRDFä¸å˜)
   ```

3. **èƒ½é‡å®ˆæ’**:
   ```
   âˆ«_Î© f_r(Ï‰_i, Ï‰_o) cos Î¸_o dÏ‰_o â‰¤ 1
   (åå°„çš„èƒ½é‡ä¸èƒ½è¶…è¿‡å…¥å°„èƒ½é‡)
   ```

### 4.2 å¸¸è§BRDFæ¨¡å‹

#### 1. Lambertian (å®Œå…¨æ¼«åå°„)

\[
f_r = \frac{\rho}{\pi}
\]

- \(\rho\): åå°„ç‡ (albedo)ï¼Œå–å€¼ [0, 1]
- å„å‘åŒæ€§ï¼Œæ‰€æœ‰æ–¹å‘åå°„å‡åŒ€

```cpp
vec3 lambertianBRDF(vec3 albedo) {
    return albedo / PI;
}
```

**ä¸ºä»€ä¹ˆé™¤ä»¥Ï€?**
```
èƒ½é‡å®ˆæ’:
âˆ«_hemisphere f_r cos Î¸ dÏ‰ = Ï/Ï€ Â· Ï€ = Ï â‰¤ 1 âœ“
```

#### 2. å®Œç¾é•œé¢ (Perfect Specular)

\[
f_r(p, \omega_i, \omega_o) = \frac{\rho_s}{\cos\theta_i} \delta(\omega_o - \omega_r)
\]

- \(\omega_r\): é•œé¢åå°„æ–¹å‘
- \(\delta\): Dirac deltaå‡½æ•°

```cpp
vec3 reflect(vec3 I, vec3 N) {
    return I - 2.0 * dot(N, I) * N;
}
```

#### 3. Microfacetæ¨¡å‹ (Cook-Torrance)

ç”¨äºè¡¨ç¤ºæœ‰ä¸€å®šç²—ç³™åº¦çš„è¡¨é¢ï¼š

\[
f_r(\omega_i, \omega_o) = \frac{D(\omega_h) G(\omega_i, \omega_o) F(\omega_i, \omega_h)}{4 \cos\theta_i \cos\theta_o}
\]

- \(D\): æ³•çº¿åˆ†å¸ƒå‡½æ•° (Normal Distribution Function)
- \(G\): å‡ ä½•é®æŒ¡å‡½æ•° (Geometry Function)
- \(F\): è²æ¶…å°”é¡¹ (Fresnel Term)
- \(\omega_h\): åŠå‘é‡ (half vector)

**å¸¸ç”¨çš„NDF - GGX**:
\[
D_{GGX}(\omega_h) = \frac{\alpha^2}{\pi ((\cos\theta_h)^2 (\alpha^2 - 1) + 1)^2}
\]

```cpp
float D_GGX(float NoH, float roughness) {
    float a = roughness * roughness;
    float a2 = a * a;
    float NoH2 = NoH * NoH;
    float denom = NoH2 * (a2 - 1.0) + 1.0;
    return a2 / (PI * denom * denom);
}
```

### 4.3 BTDFå’ŒBSDF

**BTDF** (Bidirectional Transmittance Distribution Function):
- æè¿°é€å°„(æŠ˜å°„)
- ç”¨äºç»ç’ƒã€æ°´ç­‰é€æ˜æè´¨

**BSDF** (Bidirectional Scattering Distribution Function):
- BSDF = BRDF + BTDF
- ç»Ÿä¸€æè¿°åå°„å’Œé€å°„

\[
f_s = f_r + f_t
\]

---

## 5. è¾å°„åº¦é‡å­¦åœ¨æ¸²æŸ“ä¸­çš„åº”ç”¨

### 5.1 æ¸²æŸ“æ–¹ç¨‹

æœ‰äº†è¾å°„åº¦é‡å­¦åŸºç¡€ï¼Œæˆ‘ä»¬å°±èƒ½ç†è§£æ¸²æŸ“æ–¹ç¨‹ï¼š

\[
L_o(p, \omega_o) = L_e(p, \omega_o) + \int_{\Omega} f_r(p, \omega_i, \omega_o) L_i(p, \omega_i) \cos\theta_i \, d\omega_i
\]

**æ¯ä¸€é¡¹çš„å«ä¹‰**:
- \(L_o\): å‡ºå°„è¾å°„äº®åº¦ (æˆ‘ä»¬è¦æ±‚è§£çš„)
- \(L_e\): è‡ªå‘å…‰ (Emission)
- \(f_r\): BRDF (æè´¨å±æ€§)
- \(L_i\): å…¥å°„è¾å°„äº®åº¦ (æ¥è‡ªå…¶ä»–è¡¨é¢æˆ–å…‰æº)
- \(\cos\theta_i\): Lambertä½™å¼¦
- \(d\omega_i\): ç§¯åˆ†æ‰€æœ‰å…¥å°„æ–¹å‘

### 5.2 ç›´æ¥å…‰ç…§è®¡ç®—

**ç‚¹å…‰æº**:
```cpp
vec3 directLighting(vec3 position, vec3 normal, vec3 viewDir) {
    // å…‰æºæ–¹å‘
    vec3 L = normalize(lightPos - position);
    float dist = length(lightPos - position);
    
    // å…¥å°„è¾å°„äº®åº¦ (æ¥è‡ªç‚¹å…‰æº)
    float I = lightIntensity; // W/sr
    vec3 L_i = I / (dist * dist); // W/mÂ²
    
    // BRDF
    vec3 f_r = albedo / PI; // Lambertian
    
    // ä½™å¼¦é¡¹
    float cosTheta = max(0.0, dot(normal, L));
    
    // å‡ºå°„è¾å°„äº®åº¦
    return f_r * L_i * cosTheta;
}
```

**é¢å…‰æº**:
```cpp
vec3 areaLightContribution(vec3 position, vec3 normal) {
    vec3 L_o = vec3(0.0);
    
    // å¯¹é¢å…‰æºé‡‡æ ·
    for (int i = 0; i < numSamples; i++) {
        vec3 lightPoint = sampleAreaLight();
        vec3 L = normalize(lightPoint - position);
        float dist = length(lightPoint - position);
        
        // å…‰æºä¸Šçš„è¾å°„äº®åº¦
        vec3 L_i = lightRadiance / (dist * dist);
        
        // BRDF Â· L_i Â· cosÎ¸
        float cosTheta = max(0.0, dot(normal, L));
        L_o += (albedo / PI) * L_i * cosTheta;
    }
    
    return L_o / numSamples;
}
```

### 5.3 ç¯å¢ƒå…‰é®è”½ (Ambient Occlusion)

ç¯å¢ƒå…‰é®è”½æœ¬è´¨ä¸Šæ˜¯è¾ç…§åº¦çš„å¯è§æ€§åŠ æƒï¼š

\[
AO(p) = \frac{1}{\pi} \int_{\Omega} V(p, \omega) \cos\theta \, d\omega
\]

- \(V(p, \omega)\): å¯è§æ€§å‡½æ•° (0æˆ–1)

```cpp
float computeAO(vec3 position, vec3 normal, int numSamples) {
    float occlusion = 0.0;
    
    for (int i = 0; i < numSamples; i++) {
        vec3 direction = sampleHemisphere(normal);
        float cosTheta = dot(normal, direction);
        
        // å…‰çº¿è¿½è¸ªæ£€æµ‹é®æŒ¡
        if (rayIntersect(position, direction)) {
            occlusion += cosTheta; // è¢«é®æŒ¡
        }
    }
    
    return 1.0 - (occlusion / (numSamples * PI));
}
```

---

## 6. å¸¸è§è¯¯åŒºä¸æ³¨æ„äº‹é¡¹

### âŒ è¯¯åŒº1: æ··æ·†è¾ç…§åº¦å’Œè¾å°„äº®åº¦

```
é”™è¯¯: "å…‰æºäº®åº¦æ˜¯è¾ç…§åº¦"
æ­£ç¡®: 
  - ç‚¹å…‰æºç”¨è¾å°„å¼ºåº¦æè¿°
  - é¢å…‰æºç”¨è¾å°„äº®åº¦æè¿°
  - è¡¨é¢æ¥æ”¶çš„æ˜¯è¾ç…§åº¦
```

### âŒ è¯¯åŒº2: å¿˜è®°cosÎ¸é¡¹

```
é”™è¯¯: E = âˆ« L dÏ‰
æ­£ç¡®: E = âˆ« L cos Î¸ dÏ‰

Lambertä½™å¼¦å®šå¾‹å¿…ä¸å¯å°‘ï¼
```

### âŒ è¯¯åŒº3: BRDFå•ä½é”™è¯¯

```
é”™è¯¯: BRDFå•ä½æ˜¯ "æ— é‡çº²"
æ­£ç¡®: BRDFå•ä½æ˜¯ srâ»Â¹

f_r = dL_o / (L_i cos Î¸ dÏ‰)
å•ä½: (W/(mÂ²Â·sr)) / (W/mÂ²) = srâ»Â¹
```

### âŒ è¯¯åŒº4: èƒ½é‡ä¸å®ˆæ’

```
é”™è¯¯: Lambertian BRDF = albedo
æ­£ç¡®: Lambertian BRDF = albedo / Ï€

éªŒè¯èƒ½é‡å®ˆæ’:
âˆ« (Ï/Ï€) cos Î¸ dÏ‰ = Ï â‰¤ 1 âœ“
```

---

## 7. å®è·µç»ƒä¹ 

### ç»ƒä¹ 1: æ¨å¯¼ç‚¹å…‰æºçš„è¾ç…§åº¦

**é¢˜ç›®**: ä¸€ä¸ªè¾å°„å¼ºåº¦ä¸º I = 100 W/sr çš„ç‚¹å…‰æºï¼Œè·ç¦»è¡¨é¢ r = 2mï¼Œæ±‚è¡¨é¢çš„è¾ç…§åº¦ï¼ˆæ³•çº¿æœå‘å…‰æºï¼‰ã€‚

<details>
<summary>ç‚¹å‡»æŸ¥çœ‹ç­”æ¡ˆ</summary>

```
è§£:
1. ç‚¹å…‰æºçš„è¾å°„å¼ºåº¦: I = 100 W/sr

2. è·ç¦» r = 2m å¤„ï¼Œå¾®åˆ†ç«‹ä½“è§’:
   dÏ‰ = dA / rÂ²

3. æ¥æ”¶çš„é€šé‡:
   dÎ¦ = I Â· dÏ‰ = I Â· dA / rÂ²

4. è¾ç…§åº¦å®šä¹‰:
   E = dÎ¦ / dA = I / rÂ²
   
5. ä»£å…¥æ•°å€¼:
   E = 100 / 4 = 25 W/mÂ²

ç­”æ¡ˆ: E = 25 W/mÂ²
```
</details>

### ç»ƒä¹ 2: éªŒè¯Lambertianèƒ½é‡å®ˆæ’

**é¢˜ç›®**: è¯æ˜ Lambertian BRDF \( f_r = \rho / \pi \) æ»¡è¶³èƒ½é‡å®ˆæ’ã€‚

<details>
<summary>ç‚¹å‡»æŸ¥çœ‹ç­”æ¡ˆ</summary>

```
è¯æ˜:
èƒ½é‡å®ˆæ’æ¡ä»¶: âˆ«_Î© f_r(Ï‰_i, Ï‰_o) cos Î¸_o dÏ‰_o â‰¤ 1

å¯¹äºLambertian BRDF:
f_r = Ï / Ï€ (å¸¸æ•°)

ç§¯åˆ†:
âˆ«_Î© (Ï/Ï€) cos Î¸ dÏ‰

= (Ï/Ï€) âˆ«â‚€Â²áµ–â± âˆ«â‚€áµ–â±/Â² cos Î¸ Â· sin Î¸ dÎ¸ dÏ†

= (Ï/Ï€) Â· 2Ï€ Â· âˆ«â‚€áµ–â±/Â² cos Î¸ sin Î¸ dÎ¸

= (Ï/Ï€) Â· 2Ï€ Â· [sinÂ²Î¸ / 2]â‚€áµ–â±/Â²

= (Ï/Ï€) Â· 2Ï€ Â· 1/2

= Ï

ç»“è®º: åªè¦ Ï â‰¤ 1ï¼Œå°±æ»¡è¶³èƒ½é‡å®ˆæ’ âœ“
```
</details>

### ç»ƒä¹ 3: è®¡ç®—åŠçƒè¾ç…§åº¦

**é¢˜ç›®**: å‡åŒ€ç¯å¢ƒå…‰ \( L_{env} = 1 \, W/(m^2 \cdot sr) \)ï¼Œè®¡ç®—å¹³é¢æ¥æ”¶çš„æ€»è¾ç…§åº¦ã€‚

<details>
<summary>ç‚¹å‡»æŸ¥çœ‹ç­”æ¡ˆ</summary>

```
è§£:
E = âˆ«_Î© L_env cos Î¸ dÏ‰

= L_env âˆ«â‚€Â²áµ–â± âˆ«â‚€áµ–â±/Â² cos Î¸ sin Î¸ dÎ¸ dÏ†

= L_env Â· 2Ï€ Â· [sinÂ²Î¸ / 2]â‚€áµ–â±/Â²

= L_env Â· 2Ï€ Â· 1/2

= L_env Â· Ï€

ä»£å…¥ L_env = 1:
E = Ï€ W/mÂ²

ç­”æ¡ˆ: E = Ï€ â‰ˆ 3.14 W/mÂ²

è¿™å°±æ˜¯è‘—åçš„ "Ï€å› å­"ï¼
```
</details>

---

## 8. è¿›é˜¶è¯é¢˜

### 8.1 å…‰è°±è¾å°„åº¦é‡å­¦

å®é™…ä¸Šï¼Œæ‰€æœ‰è¾å°„é‡éƒ½æ˜¯æ³¢é•¿ç›¸å…³çš„ï¼š

\[
L(\lambda, p, \omega) \quad \text{å•ä½: W/(mÂ²Â·srÂ·nm)}
\]

åœ¨æ¸²æŸ“ä¸­çš„ç®€åŒ–ï¼š
- RGBä¸‰é€šé“åˆ†åˆ«è®¡ç®—
- æˆ–ä½¿ç”¨SPD (Spectral Power Distribution)

### 8.2 å…‰åº¦å­¦ (Photometry)

å…‰åº¦å­¦æ˜¯è¾å°„åº¦é‡å­¦çš„æ„ŸçŸ¥ç‰ˆæœ¬ï¼ŒåŠ å…¥äº†äººçœ¼å“åº”ï¼š

| è¾å°„é‡ | å…‰åº¦é‡ | å•ä½ |
|--------|--------|------|
| Radiant Flux | Luminous Flux | æµæ˜(lm) |
| Radiance | Luminance | cd/mÂ² |
| Irradiance | Illuminance | å‹’å…‹æ–¯(lux) |

è½¬æ¢å…³ç³»ï¼š
\[
\Phi_v = 683 \int V(\lambda) \Phi_e(\lambda) d\lambda
\]

- \(V(\lambda)\): äººçœ¼è§†è§‰æ•ˆç‡å‡½æ•° (CIE 1931)
- å³°å€¼åœ¨ 555nm (ç»¿å…‰)

### 8.3 æ¬¡è¡¨é¢æ•£å°„ (Subsurface Scattering)

å¯¹äºåŠé€æ˜æè´¨ï¼Œå…‰ä¼šè¿›å…¥è¡¨é¢å†…éƒ¨ï¼š

\[
L_o(p_o, \omega_o) = \int_A \int_{\Omega} S(p_i, \omega_i; p_o, \omega_o) L_i(p_i, \omega_i) \cos\theta_i \, d\omega_i \, dA(p_i)
\]

- \(S\): BSSRDF (Bidirectional Surface Scattering Reflectance Distribution Function)
- æ¯”BRDFå¤šäº†ä¸€ä¸ªç©ºé—´ç»´åº¦

---

## 9. ä¼˜è´¨å¼€æºä»£ç å‚è€ƒ

### 9.1 å®Œæ•´æ¸²æŸ“å™¨å®ç°

#### 1. PBRT - Physically Based Rendering Toolkit
**â­â­â­ å¼ºçƒˆæ¨è**

- ğŸ“¦ ä»“åº“: [mmp/pbrt-v3](https://github.com/mmp/pbrt-v3) / [pbrt-v4](https://github.com/mmp/pbrt-v4)
- ğŸ“š é…å¥—ä¹¦ç±: "Physically Based Rendering" (æ•™ç§‘ä¹¦çº§è´¨é‡)
- ğŸ¯ äº®ç‚¹: 
  - å®Œæ•´çš„è¾å°„åº¦é‡å­¦å®ç°
  - æ¯è¡Œä»£ç éƒ½æœ‰è¯¦ç»†æ³¨é‡Š
  - ä¸æ•™æå®Œå…¨å¯¹åº”

**å…³é”®æ–‡ä»¶**:
```cpp
// è¾å°„é‡ç›¸å…³
src/core/spectrum.h     // å…‰è°±è¡¨ç¤º
src/core/reflection.h   // BRDF/BSDFå®ç°

// Lambertian BRDFå®ç°
class LambertianReflection : public BxDF {
    Spectrum f(const Vector3f &wo, const Vector3f &wi) const {
        return R * InvPi; // Ræ˜¯åå°„ç‡ï¼ŒInvPi = 1/Ï€
    }
    
    Float Pdf(const Vector3f &wo, const Vector3f &wi) const {
        return SameHemisphere(wo, wi) ? AbsCosTheta(wi) * InvPi : 0;
    }
};

// GGXå¾®è¡¨é¢BRDF
class MicrofacetReflection : public BxDF {
    Spectrum f(const Vector3f &wo, const Vector3f &wi) const {
        Float cosThetaO = AbsCosTheta(wo);
        Float cosThetaI = AbsCosTheta(wi);
        if (cosThetaI == 0 || cosThetaO == 0) return Spectrum(0.);
        
        Vector3f wh = wi + wo;
        if (wh.x == 0 && wh.y == 0 && wh.z == 0) return Spectrum(0.);
        wh = Normalize(wh);
        
        Spectrum F = fresnel->Evaluate(Dot(wi, wh));
        return R * distribution->D(wh) * distribution->G(wo, wi) * F /
               (4 * cosThetaI * cosThetaO);
    }
};
```

**å­¦ä¹ è·¯å¾„**:
1. é˜…è¯» `src/core/reflection.h` - BRDFåŸºç¡€ç±»
2. é˜…è¯» `src/core/microfacet.h` - å¾®è¡¨é¢åˆ†å¸ƒå‡½æ•°
3. é˜…è¯» `src/integrators/path.cpp` - è·¯å¾„è¿½è¸ªå™¨

---

#### 2. Mitsuba Renderer
**â­â­â­ ç ”ç©¶çº§æ¸²æŸ“å™¨**

- ğŸ“¦ ä»“åº“: [mitsuba-renderer/mitsuba3](https://github.com/mitsuba-renderer/mitsuba3)
- ğŸ¯ äº®ç‚¹: 
  - æ”¯æŒå¾®åˆ†æ¸²æŸ“
  - æ¨¡å—åŒ–è®¾è®¡
  - Pythonç»‘å®š

**å…³é”®ä»£ç ç¤ºä¾‹**:
```cpp
// Diffuse BRDF (Mitsubaé£æ ¼)
class DiffuseBSDF : public BSDF {
    Spectrum eval(const BSDFContext &ctx,
                  const SurfaceInteraction3f &si,
                  const Vector3f &wo) const {
        Float cos_theta_i = Frame3f::cos_theta(si.wi);
        Float cos_theta_o = Frame3f::cos_theta(wo);
        
        if (cos_theta_i <= 0.0f || cos_theta_o <= 0.0f)
            return 0.0f;
            
        return m_reflectance->eval(si) * InvPi;
    }
};
```

**æ¨èå­¦ä¹ æ–‡ä»¶**:
- `src/bsdfs/diffuse.cpp` - æ¼«åå°„BRDF
- `src/bsdfs/roughconductor.cpp` - GGXé‡‘å±
- `src/integrators/path.cpp` - è·¯å¾„è¿½è¸ª

---

#### 3. Ray Tracing in One Weekend ç³»åˆ—
**â­â­ å…¥é—¨å‹å¥½**

- ğŸ“¦ ä»“åº“: [RayTracing/raytracing.github.io](https://github.com/RayTracing/raytracing.github.io)
- ğŸ¯ äº®ç‚¹: 
  - ä»é›¶å¼€å§‹
  - ä»£ç ç®€æ´æ˜“æ‡‚
  - é…å¥—æ•™ç¨‹å®Œæ•´

**æ ¸å¿ƒä»£ç ç‰‡æ®µ**:
```cpp
// Lambertianæè´¨
class Lambertian : public Material {
public:
    bool scatter(const Ray& r_in, const HitRecord& rec,
                 Color& attenuation, Ray& scattered) const override {
        // åŠçƒé‡‡æ ·
        vec3 scatter_direction = rec.normal + random_unit_vector();
        
        // é˜²æ­¢é€€åŒ–
        if (scatter_direction.near_zero())
            scatter_direction = rec.normal;
            
        scattered = Ray(rec.p, scatter_direction);
        attenuation = albedo; // æ³¨æ„: è¿™é‡Œæ²¡é™¤Ï€æ˜¯å› ä¸ºé‡‡æ ·PDFå·²ç»å¤„ç†
        return true;
    }
    
private:
    Color albedo;
};
```

---

### 9.2 å®æ—¶æ¸²æŸ“å¼•æ“

#### 4. Filament - Googleç§»åŠ¨PBRå¼•æ“
**â­â­â­ å·¥ä¸šçº§è´¨é‡**

- ğŸ“¦ ä»“åº“: [google/filament](https://github.com/google/filament)
- ğŸ“– æ–‡æ¡£: [Filament PBR Guide](https://google.github.io/filament/Filament.html)
- ğŸ¯ äº®ç‚¹: 
  - ç§»åŠ¨ä¼˜åŒ–
  - è¯¦ç»†çš„æ•°å­¦æ¨å¯¼æ–‡æ¡£
  - å®Œæ•´çš„PBRå®ç°

**BRDFç€è‰²å™¨ä»£ç **:
```glsl
// Standard BRDFå®ç° (Filament)
vec3 BRDF(
    vec3 v,              // è§†çº¿æ–¹å‘
    vec3 l,              // å…‰çº¿æ–¹å‘
    vec3 n,              // æ³•çº¿
    float roughness,
    vec3 f0              // F0è²æ¶…å°”
) {
    vec3 h = normalize(v + l);
    float NoV = abs(dot(n, v)) + 1e-5;
    float NoL = clamp(dot(n, l), 0.0, 1.0);
    float NoH = clamp(dot(n, h), 0.0, 1.0);
    float LoH = clamp(dot(l, h), 0.0, 1.0);
    
    // æ³•çº¿åˆ†å¸ƒ (GGX)
    float D = D_GGX(NoH, roughness);
    
    // å¯è§æ€§å‡½æ•°
    float V = V_SmithGGXCorrelated(NoV, NoL, roughness);
    
    // è²æ¶…å°”é¡¹
    vec3 F = F_Schlick(LoH, f0);
    
    // é•œé¢åå°„ BRDF
    vec3 Fr = (D * V) * F;
    
    // æ¼«åå°„ BRDF (èƒ½é‡å®ˆæ’)
    vec3 Fd = diffuseColor * Fd_Lambert();
    
    return Fd + Fr;
}

float D_GGX(float NoH, float roughness) {
    float a = roughness * roughness;
    float a2 = a * a;
    float f = (NoH * a2 - NoH) * NoH + 1.0;
    return a2 / (PI * f * f);
}
```

**æ¨èå­¦ä¹ æ–‡ä»¶**:
- `shaders/src/brdf.fs` - BRDFå®ç°
- `shaders/src/light_indirect.fs` - é—´æ¥å…‰ç…§
- `libs/ibl/src/CubemapIBL.cpp` - åŸºäºå›¾åƒçš„å…‰ç…§

---

#### 5. Unreal Engine æºç 
**â­â­â­ AAAçº§å‚è€ƒ**

- ğŸ“¦ ä»“åº“: [EpicGames/UnrealEngine](https://github.com/EpicGames/UnrealEngine) (éœ€è¦Epicè´¦å·)
- ğŸ¯ äº®ç‚¹: 
  - å·¥ä¸šçº§ä¼˜åŒ–
  - å®Œæ•´çš„GIç³»ç»Ÿ
  - Lumenå®ç°

**å…³é”®æ–‡ä»¶è·¯å¾„**:
```
Engine/Shaders/Private/
  â”œâ”€â”€ BRDF.ush                 // BRDFå®ç°
  â”œâ”€â”€ DeferredLightingCommon.ush  // å…‰ç…§è®¡ç®—
  â”œâ”€â”€ MonteCarlo.ush          // è’™ç‰¹å¡æ´›é‡‡æ ·
  â””â”€â”€ GlobalIllumination/     // GIç›¸å…³ç€è‰²å™¨
```

**BRDFä»£ç ç¤ºä¾‹**:
```hlsl
// UE5çš„æ ‡å‡†BRDF (ç®€åŒ–ç‰ˆ)
float3 StandardBRDF(
    float3 DiffuseColor,
    float3 SpecularColor,
    float Roughness,
    float3 V,
    float3 L,
    float3 N
) {
    float3 H = normalize(V + L);
    float NoL = saturate(dot(N, L));
    float NoV = saturate(abs(dot(N, V)) + 1e-5);
    float NoH = saturate(dot(N, H));
    float VoH = saturate(dot(V, H));
    
    // GGX / Trowbridge-Reitz
    float D = D_GGX(Roughness, NoH);
    float Vis = Vis_SmithJointApprox(Roughness, NoV, NoL);
    float3 F = F_Schlick(SpecularColor, VoH);
    
    float3 Diffuse = Diffuse_Lambert(DiffuseColor);
    float3 Specular = (D * Vis) * F;
    
    return Diffuse + Specular;
}
```

---

### 9.3 æ•™å­¦å‘å®ç°

#### 6. Scratchapixel - æ•™å­¦ä»£ç 
**â­â­ æ¦‚å¿µæ¸…æ™°**

- ğŸŒ ç½‘ç«™: [scratchapixel.com](https://www.scratchapixel.com)
- ğŸ¯ äº®ç‚¹: 
  - ä»é›¶è®²è§£
  - é…å¥—è¯¦ç»†æ•™ç¨‹
  - æ— ä¾èµ–å®ç°

**Lambertiané‡‡æ ·ç¤ºä¾‹**:
```cpp
// å‡åŒ€åŠçƒé‡‡æ ·
Vec3f uniformSampleHemisphere(const float &r1, const float &r2) {
    float sinTheta = sqrtf(1 - r1 * r1);
    float phi = 2 * M_PI * r2;
    float x = sinTheta * cosf(phi);
    float z = sinTheta * sinf(phi);
    return Vec3f(x, r1, z);
}

// ä½™å¼¦åŠ æƒåŠçƒé‡‡æ ·
Vec3f cosineSampleHemisphere(const float &r1, const float &r2) {
    float sinTheta = sqrtf(1 - r1);
    float cosTheta = sqrtf(r1);
    float phi = 2 * M_PI * r2;
    float x = sinTheta * cosf(phi);
    float z = sinTheta * sinf(phi);
    return Vec3f(x, cosTheta, z);
}

// PDF: cos(theta) / Ï€
float pdfCosineWeighted(const Vec3f &w) {
    return w.y * M_1_PI; // w.y æ˜¯ cos(theta)
}
```

---

#### 7. TinyRenderer
**â­ æç®€å®ç°**

- ğŸ“¦ ä»“åº“: [ssloy/tinyrenderer](https://github.com/ssloy/tinyrenderer)
- ğŸ¯ äº®ç‚¹: 
  - 500è¡Œä»£ç 
  - æ— å¤–éƒ¨ä¾èµ–
  - é€‚åˆç†è§£åŸºç¡€

---

### 9.4 å®ç”¨å·¥å…·åº“

#### 8. GLM - OpenGL Mathematics
```cpp
// ä½¿ç”¨GLMè¿›è¡Œè¾å°„åº¦é‡å­¦è®¡ç®—
#include <glm/glm.hpp>
#include <glm/gtx/norm.hpp>

// è®¡ç®—åŠçƒç§¯åˆ† (è’™ç‰¹å¡æ´›)
float computeIrradiance(
    std::function<float(glm::vec3)> radiance,
    glm::vec3 normal,
    int numSamples
) {
    float irradiance = 0.0f;
    
    for (int i = 0; i < numSamples; i++) {
        // ä½™å¼¦åŠ æƒé‡‡æ ·
        glm::vec3 direction = cosineSampleHemisphere(normal);
        float cosTheta = glm::dot(direction, normal);
        
        // E = âˆ« L cos Î¸ dÏ‰
        // Monte Carlo: (1/N) Î£ L(Ï‰i) cos Î¸i / pdf(Ï‰i)
        // ä½™å¼¦åŠ æƒpdf = cos Î¸ / Ï€
        irradiance += radiance(direction) * cosTheta / (cosTheta / M_PI);
    }
    
    return irradiance / numSamples;
}
```

---

### 9.5 åœ¨çº¿å¯è§†åŒ–å·¥å…·

1. **Shadertoy** - å®æ—¶ç€è‰²å™¨å®éªŒ
   - ğŸŒ [shadertoy.com](https://www.shadertoy.com)
   - æœç´¢: "BRDF", "path tracing", "radiometry"
   - æ¨èshader: [Simple Path Tracer](https://www.shadertoy.com/view/4sfGDB)

2. **GeoGebra** - æ•°å­¦å¯è§†åŒ–
   - ğŸŒ [geogebra.org](https://www.geogebra.org)
   - ç”¨äºå¯è§†åŒ–ç«‹ä½“è§’ã€åŠçƒç§¯åˆ†ç­‰

3. **Desmos** - å‡½æ•°ç»˜å›¾
   - ğŸŒ [desmos.com/calculator](https://www.desmos.com/calculator)
   - ç»˜åˆ¶BRDFåˆ†å¸ƒã€NDFç­‰

---

### 9.6 ä»£ç å­¦ä¹ è·¯çº¿å»ºè®®

```
ç¬¬1å‘¨: åŸºç¡€ç†è§£
  â””â”€ é˜…è¯» Ray Tracing in One Weekend
     â””â”€ å®ç°åŸºç¡€å…‰çº¿è¿½è¸ª
        â””â”€ éªŒè¯Lambertian BRDF

ç¬¬2-3å‘¨: æ·±å…¥PBRT
  â””â”€ é˜…è¯» PBRT Chapter 5 + ä»£ç 
     â””â”€ ç†è§£ Spectrumã€BRDFç±»è®¾è®¡
        â””â”€ å®ç° GGXå¾®è¡¨é¢æ¨¡å‹

ç¬¬4å‘¨: å®æ—¶æ¸²æŸ“
  â””â”€ ç ”ç©¶ Filamentç€è‰²å™¨
     â””â”€ ç§»æ¤åˆ°è‡ªå·±çš„æ¸²æŸ“å™¨
        â””â”€ å¯¹æ¯”ç¦»çº¿vså®æ—¶

ç¬¬5å‘¨+: å·¥ä¸šå®è·µ
  â””â”€ ç ”ç©¶ Unreal/Unityæºç 
     â””â”€ å­¦ä¹ ä¼˜åŒ–æŠ€å·§
        â””â”€ å®ç°æ··åˆGIç³»ç»Ÿ
```

---

## 10. å­¦ä¹ èµ„æºä¸è·¯çº¿å›¾

### æ¨èé˜…è¯»é¡ºåº

1. **å…¥é—¨** (1-2å¤©):
   - GAMES101 Lecture 13-14
   - ç†è§£å››ä¸ªè¾å°„é‡çš„å®šä¹‰

2. **æ·±å…¥** (3-5å¤©):
   - PBRT Chapter 5.4-5.6
   - æ‰‹æ¨å…¬å¼ï¼Œç‰¹åˆ«æ˜¯åŠçƒç§¯åˆ†

3. **å®è·µ** (1å‘¨):
   - å®ç°ç®€å•çš„è·¯å¾„è¿½è¸ªå™¨
   - éªŒè¯è¾å°„é‡çš„è®¡ç®—

4. **è¿›é˜¶** (æŒç»­):
   - "Advanced Global Illumination" Chapter 2
   - "Radiometry and Reflectance" è®ºæ–‡

### æ ¸å¿ƒå…¬å¼é€ŸæŸ¥è¡¨

```
ç«‹ä½“è§’: dÏ‰ = sin Î¸ dÎ¸ dÏ†

åŠçƒç§¯åˆ†: âˆ«_Î© dÏ‰ = 2Ï€

ä½™å¼¦åŠ æƒ: âˆ«_Î© cos Î¸ dÏ‰ = Ï€

Radiance â†’ Irradiance:
E = âˆ«_Î© L cos Î¸ dÏ‰

ç‚¹å…‰æºè¾ç…§åº¦:
E = I cos Î¸ / rÂ²

BRDFå®šä¹‰:
f_r = dL_o / (L_i cos Î¸_i dÏ‰_i)

Lambertian BRDF:
f_r = Ï / Ï€

æ¸²æŸ“æ–¹ç¨‹:
L_o = L_e + âˆ«_Î© f_r L_i cos Î¸ dÏ‰
```

---

## 10. å¸¸è§é—®é¢˜ FAQ

**Q1: ä¸ºä»€ä¹ˆæ¸²æŸ“ä¸­åˆ°å¤„éƒ½æ˜¯Ï€ï¼Ÿ**

A: å› ä¸ºåŠçƒç§¯åˆ†ï¼
```
âˆ«_hemisphere cos Î¸ dÏ‰ = Ï€
è¿™æ˜¯Lambertianæè´¨èƒ½é‡å®ˆæ’çš„å…³é”®ã€‚
```

**Q2: Radianceä¸ºä»€ä¹ˆä¸éšè·ç¦»è¡°å‡ï¼Ÿ**

A: Radianceæ˜¯"å¯†åº¦"æ¦‚å¿µï¼š
```
è™½ç„¶æ€»èƒ½é‡éšè·ç¦»å¹³æ–¹è¡°å‡ï¼Œä½†
ç«‹ä½“è§’ä¹Ÿéšè·ç¦»å¹³æ–¹è¡°å‡ï¼Œ
ä¸¤è€…ç›¸æŠµï¼ŒRadianceä¿æŒä¸å˜ï¼
```

**Q3: å¦‚ä½•ç†è§£BRDFçš„å•ä½ srâ»Â¹ï¼Ÿ**

A: BRDFæ˜¯"æ¯”ç‡"ï¼š
```
f_r = (å‡ºå°„Radianceå¢é‡) / (å…¥å°„Irradianceå¢é‡)
    = [W/(mÂ²Â·sr)] / [W/mÂ²]
    = srâ»Â¹
```

**Q4: å®é™…æ¸²æŸ“éœ€è¦è®¡ç®—æ‰€æœ‰è¿™äº›é‡å—ï¼Ÿ**

A: ç°ä»£æ¸²æŸ“å™¨é€šå¸¸åªè®¡ç®—Radianceï¼š
```
Path Tracing: è¿½è¸ªRadiance
Rasterization: è®¡ç®—è¾ç…§åº¦ï¼Œç„¶åè½¬æ¢ä¸ºRadiance
```

---

## 11. ä¸‹ä¸€æ­¥å­¦ä¹ 

æŒæ¡è¾å°„åº¦é‡å­¦åï¼Œä½ å·²ç»å‡†å¤‡å¥½å­¦ä¹ ï¼š

âœ… **æ¸²æŸ“æ–¹ç¨‹** - ç†è§£å…¨å±€å…‰ç…§çš„æ•°å­¦åŸºç¡€
âœ… **è’™ç‰¹å¡æ´›ç§¯åˆ†** - æ•°å€¼æ±‚è§£æ¸²æŸ“æ–¹ç¨‹
âœ… **è·¯å¾„è¿½è¸ª** - å®ç°ç¬¬ä¸€ä¸ªGIç®—æ³•
âœ… **BRDFæ¨¡å‹** - æ·±å…¥ç†è§£æè´¨è¡¨ç¤º

**éªŒæ”¶æ ‡å‡†**:
- [ ] èƒ½è§£é‡Šå››ä¸ªè¾å°„é‡çš„ç‰©ç†æ„ä¹‰å’Œå•ä½
- [ ] èƒ½æ¨å¯¼ç‚¹å…‰æºçš„è¾ç…§åº¦å…¬å¼
- [ ] ç†è§£BRDFçš„å®šä¹‰å’Œèƒ½é‡å®ˆæ’
- [ ] èƒ½æ‰‹å†™æ¸²æŸ“æ–¹ç¨‹å¹¶è§£é‡Šæ¯ä¸€é¡¹
- [ ] çŸ¥é“ä¸ºä»€ä¹ˆLambertianè¦é™¤ä»¥Ï€

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0  
**åˆ›å»ºæ—¥æœŸ**: 2025å¹´10æœˆ  
**é¢„è®¡å­¦ä¹ æ—¶é—´**: 1-2å‘¨  
**éš¾åº¦**: â­â­â˜†â˜†â˜†  
**å‰ç½®çŸ¥è¯†**: å¾®ç§¯åˆ†ã€åŸºç¡€ç‰©ç†

---

## å‚è€ƒæ–‡çŒ®

1. **Pharr, M., Jakob, W., & Humphreys, G.** (2016). *Physically Based Rendering: From Theory to Implementation* (3rd ed.). Chapter 5.
2. **DutrÃ©, P., Bekaert, P., & Bala, K.** (2006). *Advanced Global Illumination* (2nd ed.). Chapter 2.
3. **Nicodemus, F. E.** (1965). "Directional Reflectance and Emissivity of an Opaque Surface". *Applied Optics*.
4. **Veach, E.** (1997). *Robust Monte Carlo Methods for Light Transport Simulation*. PhD Thesis, Chapter 2.

---

## é™„å½•: é¢å¤–å­¦ä¹ èµ„æº

### ğŸ“º è§†é¢‘æ•™ç¨‹

1. **GAMES101 - ç°ä»£è®¡ç®—æœºå›¾å½¢å­¦å…¥é—¨**
   - ğŸ¥ [Bilibiliå®Œæ•´è¯¾ç¨‹](https://www.bilibili.com/video/BV1X7411F744)
   - Lecture 13-16: å…‰çº¿è¿½è¸ªä¸è¾å°„åº¦é‡å­¦
   - é—«ä»¤çªè€å¸ˆè®²è§£ï¼Œä¸­æ–‡æˆè¯¾

2. **TU Wienæ¸²æŸ“è¯¾ç¨‹**
   - ğŸ¥ [YouTubeæ’­æ”¾åˆ—è¡¨](https://www.youtube.com/c/æ¸²æŸ“è¯¾ç¨‹)
   - æ·±å…¥çš„è¾å°„åº¦é‡å­¦ç†è®º

3. **Scratchapixelè§†é¢‘æ•™ç¨‹**
   - ğŸ¥ é…å¥—æ–‡å­—æ•™ç¨‹çš„è§†é¢‘è®²è§£
   - ä»é›¶å¼€å§‹çš„æ¸²æŸ“æ•™å­¦

### ğŸ“Š äº¤äº’å¼æ¼”ç¤º

1. **ç«‹ä½“è§’å¯è§†åŒ–**
   - ğŸ”— [GeoGebra: Solid Angle](https://www.geogebra.org/m/HZ5NxGVu)
   - äº¤äº’å¼3Dæ¼”ç¤º

2. **BRDFå¯è§†åŒ–å·¥å…·**
   - ğŸ”— [Disney BRDF Explorer](https://github.com/wdas/brdf) - ä¸‹è½½ä½¿ç”¨
   - ğŸ”— [åœ¨çº¿BRDFæŸ¥çœ‹å™¨](https://patapom.com/topics/Revision2013/Revision%202013%20-%20Real%20Shading%20in%20Unreal%20Engine%204.pdf)

3. **å…‰ç…§è®¡ç®—æ¼”ç¤º**
   - ğŸ”— [Shadertoy: äº¤äº’å¼ç€è‰²å™¨](https://www.shadertoy.com/view/4sfGDB)
   - å®æ—¶æŸ¥çœ‹BRDFæ•ˆæœ

### ğŸ“š åœ¨çº¿ä¹¦ç±ä¸æ•™ç¨‹

1. **PBRT Bookåœ¨çº¿ç‰ˆ**
   - ğŸ”— [pbr-book.org](https://www.pbr-book.org)
   - å®Œæ•´çš„ç¬¬ä¸‰ç‰ˆåœ¨çº¿é˜…è¯»

2. **Scratchapixelå®Œæ•´æ•™ç¨‹**
   - ğŸ”— [scratchapixel.com](https://www.scratchapixel.com)
   - ä»é›¶å¼€å§‹çš„æ¸²æŸ“æ•™å­¦

3. **Learn OpenGL - PBRç« èŠ‚**
   - ğŸ”— [learnopengl.com/PBR/Theory](https://learnopengl.com/PBR/Theory)
   - å®æ—¶æ¸²æŸ“è§†è§’çš„è¾å°„åº¦é‡å­¦

### ğŸ–¼ï¸ å›¾ç‰‡èµ„æº

1. **Wikipediaç›¸å…³æ¡ç›®**
   - [Solid Angle](https://en.wikipedia.org/wiki/Solid_angle)
   - [Radiance](https://en.wikipedia.org/wiki/Radiance)
   - [BRDF](https://en.wikipedia.org/wiki/Bidirectional_reflectance_distribution_function)

2. **PBRT Bookå›¾ç‰‡**
   - æ‰€æœ‰æ’å›¾éƒ½å¯ä»¥åœ¨[å®˜ç½‘](https://pbr-book.org)æ‰¾åˆ°
   - é«˜è´¨é‡çš„ç¤ºæ„å›¾å’Œæ¸²æŸ“ç»“æœ

### ğŸ’» å®è·µèµ„æº

1. **GitHubä¼˜ç§€é¡¹ç›®åˆ—è¡¨**
   ```
   ç¦»çº¿æ¸²æŸ“å™¨:
   - mmp/pbrt-v3 (C++)
   - mitsuba-renderer/mitsuba3 (C++/Python)
   - RayTracing/raytracing.github.io (C++)
   
   å®æ—¶å¼•æ“:
   - google/filament (C++)
   - EpicGames/UnrealEngine (C++)
   
   æ•™å­¦é¡¹ç›®:
   - ssloy/tinyrenderer (C++)
   - 99lines-of-code (å„ç§è¯­è¨€çš„miniRT)
   ```

2. **åœ¨çº¿ç¼–ç¨‹ç¯å¢ƒ**
   - ğŸ”— [Shadertoy](https://www.shadertoy.com) - GLSLåœ¨çº¿ç¼–è¾‘
   - ğŸ”— [Compiler Explorer](https://godbolt.org) - æŸ¥çœ‹ç¼–è¯‘ä¼˜åŒ–

### ğŸ“– è®ºæ–‡èµ„æº

1. **ç»å…¸è®ºæ–‡**
   - Kajiya 1986: The Rendering Equation
   - Cook-Torrance 1982: Reflectance Model
   - Veach 1997: Robust Monte Carlo Methods

2. **è®ºæ–‡è·å–**
   - [ACM Digital Library](https://dl.acm.org)
   - [Ke-Sen Huang's SIGGRAPH Papers](http://kesen.realtimerendering.com)
   - [Google Scholar](https://scholar.google.com)

---

ç¥å­¦ä¹ é¡ºåˆ©ï¼è®°ä½ï¼šç†è§£è¾å°„åº¦é‡å­¦ä¸æ˜¯ç›®çš„ï¼Œå®ƒæ˜¯é€šå¾€å…¨å±€å…‰ç…§çš„é’¥åŒ™ã€‚ğŸ”‘

**å­¦ä¹ å»ºè®®**:
- âœ… ç†è®º+å®è·µç»“åˆï¼Œæ¯å­¦ä¸€ä¸ªæ¦‚å¿µå°±å†™ä»£ç éªŒè¯
- âœ… å¤šçœ‹å¯è§†åŒ–å·¥å…·ï¼Œå»ºç«‹ç›´è§‰
- âœ… é˜…è¯»ä¼˜ç§€å¼€æºä»£ç ï¼Œå­¦ä¹ å·¥ç¨‹å®è·µ
- âœ… æ‰‹æ¨å…¬å¼ï¼Œç‰¹åˆ«æ˜¯èƒ½é‡å®ˆæ’éªŒè¯
- âœ… åŠ å…¥å›¾å½¢å­¦ç¤¾åŒºï¼ˆå¦‚çŸ¥ä¹ã€Reddit r/GraphicsProgrammingï¼‰äº¤æµ

